<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>指南，带你遨游无尽宇宙</title>
    <link rel="stylesheet" href="stylesheets/nav.css">
    <link rel="stylesheet" href="stylesheets/register.css">
    <link rel="shortcut icon" href="img/favicon.ico">
    <style>
        .nav-information{
            display: none;
        }
        .nav-bookstore{
            display: none;
        }
        #head{
            background-image: url('img/30.jpg');
        }
    </style>
</head>
<body>
<div class="nav-color"></div>
<div class="nav">

    <a href="index.html" class="nav-logo">
    </a>
    <div class="nav-search">
        <form action="" >
            <label for="search" class="nav-search-form">
                <input type="text" id="search" size="27"  placeholder="玩家一号" class="nav-search-input">
                <span>&nbsp</span>
                <button class="nav-search-button">搜索</button>
            </label>

        </form>
    </div>
    <div class="nav-row">
        <a href="#" class="nav-information"></a>
        <a href="register.html" class="nav-bookstore"></a>
    </div>
</div>
<div class="block"></div>
<div class="main">
    <div class="main-left"></div>
    <div class="main-right">
        <h1 class="word">WELCOME FAMILY</h1>
        <form enctype="multipart/form-data" class="main-register">
            <label for="username">
                <input type="text" name="username" id="username" placeholder="用户名">
            </label>
            <label for="email">
                <input type="text" name="email" id="email" placeholder="填写常用电子邮箱">
            </label>
            <label for="number">
                <input type="text"  name="number" placeholder="填写常用手机号" id="number">
            </label>
            <label for="password">
                <input type="text" name="password" placeholder="密码(6-16个字符组成 区分大小写）" id="password" maxlength="16">
            </label>
            <label for="select" class="select">
                <input type="checkbox" id="select">
                <span>我已阅读并同意相关<span class="blue">服务条款</span>和<span class="blue">隐私政策</span></span>
            </label>
<!--            <button id="register" type="button">注册</button>-->
            <div id="register">
                <section>
                    <div class="btn-container">
                        <input type="button" value="注册" id="button-blue">
                        <div class="ease"></div>
                    </div>
                </section>
            </div>
        </form>

        <a href="index.html" id="back">返回主页</a>
    </div>

</div>

<script src="javascripts/jquery.js"></script>
<script>
    $(function () {

        //注册新用户
        $('#register ').click(function () {
            //使用FormData用来上传文件及其他信息

            var formData = new FormData();
            formData.append('username', $('#username').val());
            formData.append('password', $('#password').val());
            formData.append('number', $('#number').val());
            formData.append('email', $('#email').val());
            $.ajax({
                url: "register",
                type: "POST",
                data: formData,
                processData: false,  // 不处理数据
                contentType: false,   // 不设置内容类型
                success: function (data) {
                    //data代表的是register.js里的res.send函数参数的字符串内容
                    if(data==="注册失败")
                    {
                        alert(data);
                        window.location.reload();
                    }else{
                        alert(data);
                        window.location.href = "index.html";
                    }

                }
            });



        });
    })
</script>
</body>
</html>